# Установщик системы работы с семьями

## Описание
Установщик системы работы с семьями - это комплекс программных средств для автоматизации установки и настройки приложения на различных операционных системах, включая Red OS и Windows 7/8.

## Поддерживаемые операционные системы
- Red OS
- Windows 7 (32 и 64 бит)
- Windows 8 (64 бит)
- Современные Linux-дистрибутивы

## Компоненты установщика

### 1. simple_installer.py
Упрощенный установщик с расширенной поддержкой старых систем. Основные особенности:
- Поддержка Red OS и Windows 7/8
- Автоматическое определение системы
- Установка зависимостей с учетом версии ОС
- Создание ярлыков запуска
- Поддержка старых браузеров

### 2. quick_installer.py
Быстрый установщик для быстрой установки без настройки зависимостей.

### 3. install_linux_redos.sh
Shell-скрипт для установки в Linux/RedOS системах.

### 4. install_windows.bat
BAT-скрипт для установки в Windows 7/8.

## Установка

### Для Red OS и Linux:
```bash
chmod +x Install/install_linux_redos.sh
./Install/install_linux_redos.sh
```

### Для Windows 7/8:
Запустите `Install\install_windows.bat` от имени администратора.

### Универсальная установка:
Запустите `Installer/simple_installer.py` с помощью Python:
```bash
python3 Installer/simple_installer.py
```

## Особенности установки

### Для Red OS:
- Автоматическое определение пакетного менеджера
- Установка зависимостей через dnf/apt/yum в зависимости от системы
- Проверка доступных браузеров в системе

### Для Windows 7/8:
- Использование совместимых версий зависимостей
- Альтернативные методы создания ярлыков
- Учет ограничений по версиям браузеров

### Поддержка старых браузеров:
- Совместимость с Internet Explorer
- Настройка под старые версии Chrome/Firefox
- Обработка особенностей драйверов для старых браузеров

## Структура установленной системы

После установки создается следующая структура папок:
```
FamilySystem/
├── config/
│   ├── logs/
│   ├── screenshots/
│   ├── adpi/
│   └── register/
├── json_family_creator.py
├── massform.py
├── family_system_launcher.py
├── chrome_driver_helper.py
├── database_client.sh (Linux) или database_client.bat (Windows)
├── config.env
└── INSTALL_INFO.txt
```

## Настройка после установки

1. Откройте файл `config.env` в текстовом редакторе
2. Заполните параметры подключения к базе данных:
   - SSH_HOST - адрес SSH-сервера
   - SSH_USER - имя пользователя
   - SSH_PASSWORD - пароль
   - LOCAL_PORT - локальный порт для туннеля
   - REMOTE_HOST - адрес удаленного сервера базы данных
   - REMOTE_PORT - порт удаленного сервера
   - WEB_PATH - путь к веб-интерфейсу базы данных

## Запуск системы

Система может быть запущена через:
- Ярлык на рабочем столе (создается при установке)
- Файл `family_system_launcher.py` в папке установки
- Командой `python3 family_system_launcher.py` из папки установки

## Обновление системы

Для обновления системы:
1. Запустите установленную систему
2. Используйте встроенный механизм обновления через GitHub
3. Или переустановите систему с новым установщиком

## Устранение неполадок

### Если возникают проблемы с установкой зависимостей:
- Убедитесь, что у вас есть доступ к интернету
- Попробуйте запустить установщик с правами администратора
- Проверьте настройки брандмауэра и прокси

### Если система не запускается:
- Проверьте версию Python (должна быть 3.6+)
- Убедитесь, что все зависимости установлены
- Проверьте файлы логов в папке `config/logs/`

## Безопасность

- Установщик использует флаг `--user` для установки пакетов Python, что избегает проблем с правами
- Конфигурационные файлы не содержат чувствительных данных по умолчанию
- При переустановке создается резервная копия конфигурации

## Логирование

Все операции установщика логируются с временной меткой. В случае ошибок можно проверить:
- В Windows: файл `%TEMP%\family_system_install.log`
- В Linux/RedOS: вывод в терминале с временной меткой