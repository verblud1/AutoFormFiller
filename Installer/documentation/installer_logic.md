# Логика установщика системы работы с семьями

## Общее описание
Установщик системы работы с семьями разработан для обеспечения простой и надежной установки на различные операционные системы, включая Red OS и старые версии Windows (7 и 8).

## Цели установщика
- Обеспечить совместимость с Red OS и Windows 7/8 (32 и 64 бит)
- Предоставить простой и понятный процесс установки
- Автоматизировать установку зависимостей
- Создать удобные ярлыки для запуска
- Обеспечить корректную настройку под старые браузеры

## Архитектура установщика

### 1. Проверка системы
- Проверка версии Python (требуется 3.6+)
- Определение операционной системы
- Проверка базовых зависимостей (встроенные модули)

### 2. Подготовка к установке
- Определение пути установки (по умолчанию на рабочем столе)
- Проверка существующей установки
- Создание резервной копии конфигурации при переустановке

### 3. Установка компонентов
- Создание структуры папок
- Копирование файлов системы
- Копирование папки registry с реестрами
- Копирование файла автосохранения
- Установка зависимостей через pip
- Создание ярлыков запуска

### 4. Завершение установки
- Создание информации об установке
- Предложение запуска системы

## Поддержка различных ОС

### Red OS
- Используются проверенные версии зависимостей
- Проверяются доступные браузеры в системе
- Учитываются особенности пакетного менеджера

### Windows 7
- Используются совместимые версии зависимостей
- Альтернативные методы создания ярлыков (BAT файлы)
- Учитываются ограничения по версиям браузеров

### Windows 8
- Аналогично Windows 7 с учетом особенностей системы

## Поддержка старых браузеров
- Проверка совместимости с Internet Explorer
- Настройка под старые версии Chrome/Firefox
- Обработка особенностей драйверов для старых браузеров

## Обработка зависимостей
- Обязательные зависимости: selenium, webdriver-manager
- Необязательные зависимости: customtkinter
- Использование флага --user для избежания проблем с правами
- Повторные попытки установки с флагами совместимости

## Безопасность
- Использование --user при установке пакетов
- Резервное копирование конфигурации при переустановке
- Проверка существующих файлов перед перезаписью

## Логирование
- Вывод временных меток для всех операций
- Отдельные сообщения для статуса, ошибок и успеха
- Детализация ошибок для диагностики

## Оптимизация для старых систем
- Использование более старых, но стабильных версий библиотек
- Упрощенная логика без избыточных проверок
- Альтернативные методы для отсутствующих компонентов
- Постепенная установка с возможностью восстановления после ошибок